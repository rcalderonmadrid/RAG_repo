import{SvelteComponent as Ge,init as Le,safe_not_equal as We,svg_element as ve,claim_svg_element as Ee,children as O,detach as S,attr as b,insert_hydration as x,append_hydration as j,noop as $,tick as je,element as ee,create_component as Y,space as ne,claim_element as te,claim_component as J,claim_space as se,toggle_class as re,mount_component as Q,set_input_value as Qe,action_destroyer as zt,listen as K,prevent_default as Ct,transition_in as v,group_outros as oe,transition_out as z,check_outros as ae,is_function as Be,destroy_component as Z,run_all as Bt,createEventDispatcher as Dt,beforeUpdate as qt,onMount as rt,afterUpdate as St,text as Ke,claim_text as Xe,set_data as Ye,ensure_array_like as Ze,set_style as ye,destroy_each as Mt,binding_callbacks as he,bind as pe,add_flush_callback as ke,bubble as Ce,flush as M,assign as Ut,get_spread_update as Vt,get_spread_object as At}from"../../../svelte/svelte.js";import"../../../svelte/svelte-submodules.js";import{x as Ht,C as Nt,N as Ft,P as It,q as Pt,B as Rt,S as jt}from"./2.CUUBckXJ.js";import{F as Ot}from"./File.Dl9hvYLG.js";import{M as Gt}from"./SelectSource.BKVQYmL9.js";import{M as Lt}from"./Music.BVFRDHso.js";import{V as Wt}from"./Video.CE2Y9LYL.js";import{a as Kt}from"./Upload.BjUwOvyH.js";/* empty css                                             */import{I as Xt}from"./InteractiveAudio.Cqw720cT.js";import{default as Cl}from"./Example.Btw0v9DL.js";function Yt(l){let e,t,i,n,o;return{c(){e=ve("svg"),t=ve("g"),i=ve("g"),n=ve("g"),o=ve("path"),this.h()},l(m){e=Ee(m,"svg",{fill:!0,width:!0,height:!0,viewBox:!0,xmlns:!0});var u=O(e);t=Ee(u,"g",{id:!0,"stroke-width":!0}),O(t).forEach(S),i=Ee(u,"g",{id:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),O(i).forEach(S),n=Ee(u,"g",{id:!0});var a=O(n);o=Ee(a,"path",{d:!0,"fill-rule":!0}),O(o).forEach(S),a.forEach(S),u.forEach(S),this.h()},h(){b(t,"id","SVGRepo_bgCarrier"),b(t,"stroke-width","0"),b(i,"id","SVGRepo_tracerCarrier"),b(i,"stroke-linecap","round"),b(i,"stroke-linejoin","round"),b(o,"d","M1752.768 221.109C1532.646.986 1174.283.986 954.161 221.109l-838.588 838.588c-154.052 154.165-154.052 404.894 0 558.946 149.534 149.421 409.976 149.308 559.059 0l758.738-758.626c87.982-88.094 87.982-231.417 0-319.51-88.32-88.208-231.642-87.982-319.51 0l-638.796 638.908 79.85 79.849 638.795-638.908c43.934-43.821 115.539-43.934 159.812 0 43.934 44.047 43.934 115.877 0 159.812l-758.739 758.625c-110.23 110.118-289.355 110.005-399.36 0-110.118-110.117-110.005-289.242 0-399.247l838.588-838.588c175.963-175.962 462.382-176.188 638.909 0 176.075 176.188 176.075 462.833 0 638.908l-798.607 798.72 79.849 79.85 798.607-798.72c220.01-220.123 220.01-578.485 0-798.607"),b(o,"fill-rule","evenodd"),b(n,"id","SVGRepo_iconCarrier"),b(e,"fill","currentColor"),b(e,"width","100%"),b(e,"height","100%"),b(e,"viewBox","0 0 1920 1920"),b(e,"xmlns","http://www.w3.org/2000/svg")},m(m,u){x(m,e,u),j(e,t),j(e,i),j(e,n),j(n,o)},p:$,i:$,o:$,d(m){m&&S(e)}}}class Jt extends Ge{constructor(e){super(),Le(this,e,null,Yt,We,{})}}async function Oe(l,e,t){if(await je(),e===t)return;const i=window.getComputedStyle(l),n=parseFloat(i.paddingTop),o=parseFloat(i.paddingBottom),m=parseFloat(i.lineHeight);let u=t===void 0?!1:n+o+m*t,a=n+o+e*m;l.style.height="1px";let d;u&&l.scrollHeight>u?d=u:l.scrollHeight<a?d=a:d=l.scrollHeight,l.style.height=`${d}px`}function Qt(l,e){if(e.lines===e.max_lines)return;l.style.overflowY="scroll";function t(i){Oe(i.target,e.lines,e.max_lines)}if(l.addEventListener("input",t),!!e.text.trim())return Oe(l,e.lines,e.max_lines),{destroy:()=>l.removeEventListener("input",t)}}function xe(l,e,t){const i=l.slice();return i[72]=e[t],i[74]=t,i}function Zt(l){let e;return{c(){e=Ke(l[7])},l(t){e=Xe(t,l[7])},m(t,i){x(t,e,i)},p(t,i){i[0]&128&&Ye(e,t[7])},d(t){t&&S(e)}}}function $e(l){let e,t,i,n=Ze(l[0].files),o=[];for(let a=0;a<n.length;a+=1)o[a]=et(xe(l,n,a));const m=a=>z(o[a],1,1,()=>{o[a]=null});let u=l[26]&&tt();return{c(){e=ee("div");for(let a=0;a<o.length;a+=1)o[a].c();t=ne(),u&&u.c(),this.h()},l(a){e=te(a,"DIV",{class:!0,"aria-label":!0,"data-testid":!0,style:!0});var d=O(e);for(let _=0;_<o.length;_+=1)o[_].l(d);t=se(d),u&&u.l(d),d.forEach(S),this.h()},h(){b(e,"class","thumbnails scroll-hide svelte-5gfv2q"),b(e,"aria-label","Uploaded files"),b(e,"data-testid","container_el"),ye(e,"display",l[0].files.length>0||l[26]?"flex":"none")},m(a,d){x(a,e,d);for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(e,null);j(e,t),u&&u.m(e,null),i=!0},p(a,d){if(d[0]&65|d[1]&16){n=Ze(a[0].files);let _;for(_=0;_<n.length;_+=1){const E=xe(a,n,_);o[_]?(o[_].p(E,d),v(o[_],1)):(o[_]=et(E),o[_].c(),v(o[_],1),o[_].m(e,t))}for(oe(),_=n.length;_<o.length;_+=1)m(_);ae()}a[26]?u||(u=tt(),u.c(),u.m(e,null)):u&&(u.d(1),u=null),(!i||d[0]&67108865)&&ye(e,"display",a[0].files.length>0||a[26]?"flex":"none")},i(a){if(!i){for(let d=0;d<n.length;d+=1)v(o[d]);i=!0}},o(a){o=o.filter(Boolean);for(let d=0;d<o.length;d+=1)z(o[d]);i=!1},d(a){a&&S(e),Mt(o,a),u&&u.d()}}}function yt(l){let e,t;return e=new Ot({}),{c(){Y(e.$$.fragment)},l(i){J(e.$$.fragment,i)},m(i,n){Q(e,i,n),t=!0},p:$,i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){z(e.$$.fragment,i),t=!1},d(i){Z(e,i)}}}function xt(l){let e,t;return e=new Wt({}),{c(){Y(e.$$.fragment)},l(i){J(e.$$.fragment,i)},m(i,n){Q(e,i,n),t=!0},p:$,i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){z(e.$$.fragment,i),t=!1},d(i){Z(e,i)}}}function $t(l){let e,t;return e=new Lt({}),{c(){Y(e.$$.fragment)},l(i){J(e.$$.fragment,i)},m(i,n){Q(e,i,n),t=!0},p:$,i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){z(e.$$.fragment,i),t=!1},d(i){Z(e,i)}}}function el(l){let e,t;return e=new Pt({props:{src:l[72].url,title:null,alt:"",loading:"lazy",class:"thumbnail-image"}}),{c(){Y(e.$$.fragment)},l(i){J(e.$$.fragment,i)},m(i,n){Q(e,i,n),t=!0},p(i,n){const o={};n[0]&1&&(o.src=i[72].url),e.$set(o)},i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){z(e.$$.fragment,i),t=!1},d(i){Z(e,i)}}}function et(l){let e,t,i,n,o,m,u,a,d,_,E,h,k;n=new Nt({});function r(...D){return l[52](l[74],...D)}const w=[el,$t,xt,yt],p=[];function X(D,A){return A[0]&1&&(m=null),A[0]&1&&(u=null),A[0]&1&&(a=null),m==null&&(m=!!(D[72].mime_type&&D[72].mime_type.includes("image"))),m?0:(u==null&&(u=!!(D[72].mime_type&&D[72].mime_type.includes("audio"))),u?1:(a==null&&(a=!!(D[72].mime_type&&D[72].mime_type.includes("video"))),a?2:3))}return d=X(l,[-1,-1,-1]),_=p[d]=w[d](l),{c(){e=ee("span"),t=ee("button"),i=ee("button"),Y(n.$$.fragment),o=ne(),_.c(),this.h()},l(D){e=te(D,"SPAN",{role:!0,"aria-label":!0});var A=O(e);t=te(A,"BUTTON",{class:!0});var P=O(t);i=te(P,"BUTTON",{class:!0});var R=O(i);J(n.$$.fragment,R),R.forEach(S),o=se(P),_.l(P),P.forEach(S),A.forEach(S),this.h()},h(){b(i,"class","delete-button svelte-5gfv2q"),re(i,"disabled",l[6]),b(t,"class","thumbnail-item thumbnail-small svelte-5gfv2q"),b(e,"role","listitem"),b(e,"aria-label","File thumbnail")},m(D,A){x(D,e,A),j(e,t),j(t,i),Q(n,i,null),j(t,o),p[d].m(t,null),E=!0,h||(k=K(i,"click",r),h=!0)},p(D,A){l=D,(!E||A[0]&64)&&re(i,"disabled",l[6]);let P=d;d=X(l,A),d===P?p[d].p(l,A):(oe(),z(p[P],1,1,()=>{p[P]=null}),ae(),_=p[d],_?_.p(l,A):(_=p[d]=w[d](l),_.c()),v(_,1),_.m(t,null))},i(D){E||(v(n.$$.fragment,D),v(_),E=!0)},o(D){z(n.$$.fragment,D),z(_),E=!1},d(D){D&&S(e),Z(n),p[d].d(),h=!1,k()}}}function tt(l){let e;return{c(){e=ee("div"),this.h()},l(t){e=te(t,"DIV",{class:!0,role:!0,"aria-label":!0}),O(e).forEach(S),this.h()},h(){b(e,"class","loader svelte-5gfv2q"),b(e,"role","status"),b(e,"aria-label","Uploading")},m(t,i){x(t,e,i)},d(t){t&&S(e)}}}function lt(l){let e,t;return e=new Xt({props:{sources:["microphone"],class_name:"compact-audio",recording:ut,waveform_settings:l[21],waveform_options:l[22],i18n:l[4],active_source:l[2],upload:l[18],stream_handler:l[19],stream_every:1,editable:!0,label:l[7],root:l[15],loop:!1,show_label:!1,show_download_button:!1,dragging:!1}}),e.$on("change",l[53]),e.$on("clear",l[54]),e.$on("start_recording",l[55]),e.$on("pause_recording",l[56]),e.$on("stop_recording",l[57]),{c(){Y(e.$$.fragment)},l(i){J(e.$$.fragment,i)},m(i,n){Q(e,i,n),t=!0},p(i,n){const o={};n[0]&2097152&&(o.waveform_settings=i[21]),n[0]&4194304&&(o.waveform_options=i[22]),n[0]&16&&(o.i18n=i[4]),n[0]&4&&(o.active_source=i[2]),n[0]&262144&&(o.upload=i[18]),n[0]&524288&&(o.stream_handler=i[19]),n[0]&128&&(o.label=i[7]),n[0]&32768&&(o.root=i[15]),e.$set(o)},i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){z(e.$$.fragment,i),t=!1},d(i){Z(e,i)}}}function it(l){let e,t,i,n,o,m,u,a,d;function _(k){l[59](k)}function E(k){l[60](k)}let h={file_count:l[20],filetype:l[16],root:l[15],max_file_size:l[17],show_progress:!1,disable_click:!0,hidden:!0,upload:l[18],stream_handler:l[19]};return l[1]!==void 0&&(h.dragging=l[1]),l[26]!==void 0&&(h.uploading=l[26]),e=new Kt({props:h}),l[58](e),he.push(()=>pe(e,"dragging",_)),he.push(()=>pe(e,"uploading",E)),e.$on("load",l[34]),e.$on("error",l[61]),m=new Jt({}),{c(){Y(e.$$.fragment),n=ne(),o=ee("button"),Y(m.$$.fragment),this.h()},l(k){J(e.$$.fragment,k),n=se(k),o=te(k,"BUTTON",{"data-testid":!0,class:!0});var r=O(o);J(m.$$.fragment,r),r.forEach(S),this.h()},h(){b(o,"data-testid","upload-button"),b(o,"class","upload-button svelte-5gfv2q"),o.disabled=l[6]},m(k,r){Q(e,k,r),x(k,n,r),x(k,o,r),Q(m,o,null),u=!0,a||(d=K(o,"click",function(){Be(l[6]?void 0:l[36])&&(l[6]?void 0:l[36]).apply(this,arguments)}),a=!0)},p(k,r){l=k;const w={};r[0]&1048576&&(w.file_count=l[20]),r[0]&65536&&(w.filetype=l[16]),r[0]&32768&&(w.root=l[15]),r[0]&131072&&(w.max_file_size=l[17]),r[0]&262144&&(w.upload=l[18]),r[0]&524288&&(w.stream_handler=l[19]),!t&&r[0]&2&&(t=!0,w.dragging=l[1],ke(()=>t=!1)),!i&&r[0]&67108864&&(i=!0,w.uploading=l[26],ke(()=>i=!1)),e.$set(w),(!u||r[0]&64)&&(o.disabled=l[6])},i(k){u||(v(e.$$.fragment,k),v(m.$$.fragment,k),u=!0)},o(k){z(e.$$.fragment,k),z(m.$$.fragment,k),u=!1},d(k){k&&(S(n),S(o)),l[58](null),Z(e,k),Z(m),a=!1,d()}}}function nt(l){let e,t,i,n,o;return t=new Gt({}),{c(){e=ee("button"),Y(t.$$.fragment),this.h()},l(m){e=te(m,"BUTTON",{"data-testid":!0,class:!0});var u=O(e);J(t.$$.fragment,u),u.forEach(S),this.h()},h(){b(e,"data-testid","microphone-button"),b(e,"class","microphone-button svelte-5gfv2q"),e.disabled=l[6],re(e,"recording",ut)},m(m,u){x(m,e,u),Q(t,e,null),i=!0,n||(o=K(e,"click",function(){Be(l[6]?void 0:l[62])&&(l[6]?void 0:l[62]).apply(this,arguments)}),n=!0)},p(m,u){l=m,(!i||u[0]&64)&&(e.disabled=l[6])},i(m){i||(v(t.$$.fragment,m),i=!0)},o(m){z(t.$$.fragment,m),i=!1},d(m){m&&S(e),Z(t),n=!1,o()}}}function st(l){let e,t,i,n,o,m;const u=[ll,tl],a=[];function d(_,E){return _[11]===!0?0:1}return t=d(l),i=a[t]=u[t](l),{c(){e=ee("button"),i.c(),this.h()},l(_){e=te(_,"BUTTON",{class:!0});var E=O(e);i.l(E),E.forEach(S),this.h()},h(){b(e,"class","submit-button svelte-5gfv2q"),e.disabled=l[6],re(e,"padded-button",l[11]!==!0)},m(_,E){x(_,e,E),a[t].m(e,null),n=!0,o||(m=K(e,"click",function(){Be(l[6]?void 0:l[38])&&(l[6]?void 0:l[38]).apply(this,arguments)}),o=!0)},p(_,E){l=_;let h=t;t=d(l),t===h?a[t].p(l,E):(oe(),z(a[h],1,1,()=>{a[h]=null}),ae(),i=a[t],i?i.p(l,E):(i=a[t]=u[t](l),i.c()),v(i,1),i.m(e,null)),(!n||E[0]&64)&&(e.disabled=l[6]),(!n||E[0]&2048)&&re(e,"padded-button",l[11]!==!0)},i(_){n||(v(i),n=!0)},o(_){z(i),n=!1},d(_){_&&S(e),a[t].d(),o=!1,m()}}}function tl(l){let e;return{c(){e=Ke(l[11])},l(t){e=Xe(t,l[11])},m(t,i){x(t,e,i)},p(t,i){i[0]&2048&&Ye(e,t[11])},i:$,o:$,d(t){t&&S(e)}}}function ll(l){let e,t;return e=new Ft({}),{c(){Y(e.$$.fragment)},l(i){J(e.$$.fragment,i)},m(i,n){Q(e,i,n),t=!0},p:$,i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){z(e.$$.fragment,i),t=!1},d(i){Z(e,i)}}}function ot(l){let e,t,i,n,o,m;const u=[nl,il],a=[];function d(_,E){return _[12]===!0?0:1}return t=d(l),i=a[t]=u[t](l),{c(){e=ee("button"),i.c(),this.h()},l(_){e=te(_,"BUTTON",{class:!0});var E=O(e);i.l(E),E.forEach(S),this.h()},h(){b(e,"class","stop-button svelte-5gfv2q"),re(e,"padded-button",l[12]!==!0)},m(_,E){x(_,e,E),a[t].m(e,null),n=!0,o||(m=K(e,"click",l[37]),o=!0)},p(_,E){let h=t;t=d(_),t===h?a[t].p(_,E):(oe(),z(a[h],1,1,()=>{a[h]=null}),ae(),i=a[t],i?i.p(_,E):(i=a[t]=u[t](_),i.c()),v(i,1),i.m(e,null)),(!n||E[0]&4096)&&re(e,"padded-button",_[12]!==!0)},i(_){n||(v(i),n=!0)},o(_){z(i),n=!1},d(_){_&&S(e),a[t].d(),o=!1,m()}}}function il(l){let e;return{c(){e=Ke(l[12])},l(t){e=Xe(t,l[12])},m(t,i){x(t,e,i)},p(t,i){i[0]&4096&&Ye(e,t[12])},i:$,o:$,d(t){t&&S(e)}}}function nl(l){let e,t;return e=new It({props:{fill:"none",stroke_width:2.5}}),{c(){Y(e.$$.fragment)},l(i){J(e.$$.fragment,i)},m(i,n){Q(e,i,n),t=!0},p:$,i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){z(e.$$.fragment,i),t=!1},d(i){Z(e,i)}}}function sl(l){let e,t,i,n,o=l[29]&&l[29].includes("microphone")&&l[2]==="microphone",m,u,a=l[29]&&l[29].includes("upload")&&!(l[20]==="single"&&l[0].files.length>0),d,_=l[29]&&l[29].includes("microphone"),E,h,k,r,w,p,X,D,A,P,R,ue,ce,fe,F,_e,ge;t=new Ht({props:{show_label:l[9],info:l[8],rtl:l[13],$$slots:{default:[Zt]},$$scope:{ctx:l}}});let H=(l[0].files.length>0||l[26])&&$e(l),U=o&&lt(l),B=a&&it(l),q=_&&nt(l),C=l[11]&&st(l),T=l[12]&&ot(l);return{c(){e=ee("div"),Y(t.$$.fragment),i=ne(),H&&H.c(),n=ne(),U&&U.c(),m=ne(),u=ee("div"),B&&B.c(),d=ne(),q&&q.c(),E=ne(),h=ee("textarea"),ce=ne(),C&&C.c(),fe=ne(),T&&T.c(),this.h()},l(c){e=te(c,"DIV",{class:!0,role:!0,"aria-label":!0});var g=O(e);J(t.$$.fragment,g),i=se(g),H&&H.l(g),n=se(g),U&&U.l(g),m=se(g),u=te(g,"DIV",{class:!0});var V=O(u);B&&B.l(V),d=se(V),q&&q.l(V),E=se(V),h=te(V,"TEXTAREA",{"data-testid":!0,class:!0,dir:!0,placeholder:!0,rows:!0,style:!0,autocapitalize:!0,autocorrect:!0,spellcheck:!0,autocomplete:!0,tabindex:!0,enterkeyhint:!0,lang:!0}),O(h).forEach(S),ce=se(V),C&&C.l(V),fe=se(V),T&&T.l(V),V.forEach(S),g.forEach(S),this.h()},h(){var c,g,V,G,le,ie,L;b(h,"data-testid","textbox"),b(h,"class","scroll-hide svelte-5gfv2q"),b(h,"dir",k=l[13]?"rtl":"ltr"),b(h,"placeholder",l[5]),b(h,"rows",l[3]),h.disabled=l[6],b(h,"style",r=l[14]?"text-align: "+l[14]:""),b(h,"autocapitalize",w=(c=l[23])==null?void 0:c.autocapitalize),b(h,"autocorrect",p=(g=l[23])==null?void 0:g.autocorrect),b(h,"spellcheck",X=(V=l[23])==null?void 0:V.spellcheck),b(h,"autocomplete",D=(G=l[23])==null?void 0:G.autocomplete),b(h,"tabindex",A=(le=l[23])==null?void 0:le.tabindex),b(h,"enterkeyhint",P=(ie=l[23])==null?void 0:ie.enterkeyhint),b(h,"lang",R=(L=l[23])==null?void 0:L.lang),re(h,"no-label",!l[9]),b(u,"class","input-container svelte-5gfv2q"),b(e,"class","full-container svelte-5gfv2q"),b(e,"role","group"),b(e,"aria-label","Multimedia input field"),re(e,"dragging",l[1])},m(c,g){x(c,e,g),Q(t,e,null),j(e,i),H&&H.m(e,null),j(e,n),U&&U.m(e,null),j(e,m),j(e,u),B&&B.m(u,null),j(u,d),q&&q.m(u,null),j(u,E),j(u,h),Qe(h,l[0].text),l[64](h),j(u,ce),C&&C.m(u,null),j(u,fe),T&&T.m(u,null),l[65](e),F=!0,_e||(ge=[zt(ue=Qt.call(null,h,{text:l[0].text,lines:l[3],max_lines:l[10]})),K(h,"input",l[63]),K(h,"keypress",l[32]),K(h,"blur",l[50]),K(h,"select",l[31]),K(h,"focus",l[51]),K(h,"scroll",l[33]),K(h,"paste",l[39]),K(e,"dragenter",l[40]),K(e,"dragleave",l[41]),K(e,"dragover",Ct(l[49])),K(e,"drop",l[42])],_e=!0)},p(c,g){var G,le,ie,L,me,I,be;const V={};g[0]&512&&(V.show_label=c[9]),g[0]&256&&(V.info=c[8]),g[0]&8192&&(V.rtl=c[13]),g[0]&128|g[2]&8192&&(V.$$scope={dirty:g,ctx:c}),t.$set(V),c[0].files.length>0||c[26]?H?(H.p(c,g),g[0]&67108865&&v(H,1)):(H=$e(c),H.c(),v(H,1),H.m(e,n)):H&&(oe(),z(H,1,1,()=>{H=null}),ae()),g[0]&536870916&&(o=c[29]&&c[29].includes("microphone")&&c[2]==="microphone"),o?U?(U.p(c,g),g[0]&536870916&&v(U,1)):(U=lt(c),U.c(),v(U,1),U.m(e,m)):U&&(oe(),z(U,1,1,()=>{U=null}),ae()),g[0]&537919489&&(a=c[29]&&c[29].includes("upload")&&!(c[20]==="single"&&c[0].files.length>0)),a?B?(B.p(c,g),g[0]&537919489&&v(B,1)):(B=it(c),B.c(),v(B,1),B.m(u,d)):B&&(oe(),z(B,1,1,()=>{B=null}),ae()),g[0]&536870912&&(_=c[29]&&c[29].includes("microphone")),_?q?(q.p(c,g),g[0]&536870912&&v(q,1)):(q=nt(c),q.c(),v(q,1),q.m(u,E)):q&&(oe(),z(q,1,1,()=>{q=null}),ae()),(!F||g[0]&8192&&k!==(k=c[13]?"rtl":"ltr"))&&b(h,"dir",k),(!F||g[0]&32)&&b(h,"placeholder",c[5]),(!F||g[0]&8)&&b(h,"rows",c[3]),(!F||g[0]&64)&&(h.disabled=c[6]),(!F||g[0]&16384&&r!==(r=c[14]?"text-align: "+c[14]:""))&&b(h,"style",r),(!F||g[0]&8388608&&w!==(w=(G=c[23])==null?void 0:G.autocapitalize))&&b(h,"autocapitalize",w),(!F||g[0]&8388608&&p!==(p=(le=c[23])==null?void 0:le.autocorrect))&&b(h,"autocorrect",p),(!F||g[0]&8388608&&X!==(X=(ie=c[23])==null?void 0:ie.spellcheck))&&b(h,"spellcheck",X),(!F||g[0]&8388608&&D!==(D=(L=c[23])==null?void 0:L.autocomplete))&&b(h,"autocomplete",D),(!F||g[0]&8388608&&A!==(A=(me=c[23])==null?void 0:me.tabindex))&&b(h,"tabindex",A),(!F||g[0]&8388608&&P!==(P=(I=c[23])==null?void 0:I.enterkeyhint))&&b(h,"enterkeyhint",P),(!F||g[0]&8388608&&R!==(R=(be=c[23])==null?void 0:be.lang))&&b(h,"lang",R),ue&&Be(ue.update)&&g[0]&1033&&ue.update.call(null,{text:c[0].text,lines:c[3],max_lines:c[10]}),g[0]&1&&Qe(h,c[0].text),(!F||g[0]&512)&&re(h,"no-label",!c[9]),c[11]?C?(C.p(c,g),g[0]&2048&&v(C,1)):(C=st(c),C.c(),v(C,1),C.m(u,fe)):C&&(oe(),z(C,1,1,()=>{C=null}),ae()),c[12]?T?(T.p(c,g),g[0]&4096&&v(T,1)):(T=ot(c),T.c(),v(T,1),T.m(u,null)):T&&(oe(),z(T,1,1,()=>{T=null}),ae()),(!F||g[0]&2)&&re(e,"dragging",c[1])},i(c){F||(v(t.$$.fragment,c),v(H),v(U),v(B),v(q),v(C),v(T),F=!0)},o(c){z(t.$$.fragment,c),z(H),z(U),z(B),z(q),z(C),z(T),F=!1},d(c){c&&S(e),Z(t),H&&H.d(),U&&U.d(),B&&B.d(),q&&q.d(),l[64](null),C&&C.d(),T&&T.d(),l[65](null),_e=!1,Bt(ge)}}}let ut=!1;function ol(l,e,t){let i,{value:n={text:"",files:[]}}=e,{value_is_output:o=!1}=e,{lines:m=1}=e,{i18n:u}=e,{placeholder:a="Type here..."}=e,{disabled:d=!1}=e,{label:_}=e,{info:E=void 0}=e,{show_label:h=!0}=e,{max_lines:k}=e,{submit_btn:r=null}=e,{stop_btn:w=null}=e,{rtl:p=!1}=e,{autofocus:X=!1}=e,{text_align:D=void 0}=e,{autoscroll:A=!0}=e,{root:P}=e,{file_types:R=null}=e,{max_file_size:ue=null}=e,{upload:ce}=e,{stream_handler:fe}=e,{file_count:F="multiple"}=e,{max_plain_text_length:_e=1e3}=e,{waveform_settings:ge}=e,{waveform_options:H={show_recording_waveform:!0}}=e,{sources_string:U="upload"}=e,{active_source:B=null}=e,{html_attributes:q=null}=e,C,T,c,g=0,V=!1,{dragging:G=!1}=e,le=!1,ie=(n==null?void 0:n.text)??"",L=null,me;const I=Dt();qt(()=>{c=T&&T.offsetHeight+T.scrollTop>T.scrollHeight-100});const be=()=>{c&&A&&!V&&T.scrollTo(0,T.scrollHeight)};async function Te(){I("change",n),o||I("input")}rt(()=>{X&&T!==null&&T.focus()}),St(()=>{c&&A&&be(),X&&T&&T.focus()});function De(s){const N=s.target,W=N.value,y=[N.selectionStart,N.selectionEnd];I("select",{value:W.substring(...y),index:y})}async function qe(s){await je(),s.key==="Enter"&&s.shiftKey&&m>1?(s.preventDefault(),I("submit")):s.key==="Enter"&&!s.shiftKey&&m===1&&k>=1&&(s.preventDefault(),I("submit"),t(2,B=null),L&&(n.files.push(L),t(0,n),t(27,L=null)))}function Se(s){const N=s.target,W=N.scrollTop;W<g&&(V=!0),g=W;const y=N.scrollHeight-N.clientHeight;W>=y&&(V=!1)}async function Me({detail:s}){if(Te(),Array.isArray(s)){for(let N of s)n.files.push(N);t(0,n)}else n.files.push(s),t(0,n);await je(),I("change",n),I("upload",s)}function ze(s,N){Te(),s.stopPropagation(),n.files.splice(N,1),t(0,n)}function Ue(){C.open_upload()}function Ve(){I("stop")}function Ae(){I("submit"),t(2,B=null),L&&(n.files.push(L),t(0,n),t(27,L=null))}async function He(s){if(!s.clipboardData)return;const N=s.clipboardData.items,W=s.clipboardData.getData("text");if(W&&W.length>_e){s.preventDefault();const y=new window.File([W],"pasted_text.txt",{type:"text/plain",lastModified:Date.now()});C&&C.load_files([y]);return}for(let y in N){const de=N[y];if(de.kind==="file"&&de.type.includes("image")){const we=de.getAsFile();we&&C.load_files([we])}}}function Ne(s){s.preventDefault(),t(1,G=!0)}function Fe(s){s.preventDefault();const N=me.getBoundingClientRect(),{clientX:W,clientY:y}=s;(W<=N.left||W>=N.right||y<=N.top||y>=N.bottom)&&t(1,G=!1)}function Ie(s){if(s.preventDefault(),t(1,G=!1),s.dataTransfer&&s.dataTransfer.files){const N=Array.from(s.dataTransfer.files);if(R){const W=N.filter(de=>R.some(we=>we.startsWith(".")?de.name.toLowerCase().endsWith(we.toLowerCase()):de.type.match(new RegExp(we.replace("*",".*"))))),y=N.length-W.length;y>0&&I("error",`${y} file(s) were rejected. Accepted formats: ${R.join(", ")}`),W.length>0&&C.load_files(W)}else C.load_files(N)}}function Pe(s){Ce.call(this,l,s)}function Re(s){Ce.call(this,l,s)}function f(s){Ce.call(this,l,s)}const ft=(s,N)=>ze(N,s),_t=({detail:s})=>{s!==null&&t(27,L=s)},ct=()=>{t(2,B=null)},mt=()=>I("start_recording"),ht=()=>I("pause_recording"),gt=()=>I("stop_recording");function dt(s){he[s?"unshift":"push"](()=>{C=s,t(25,C)})}function bt(s){G=s,t(1,G)}function wt(s){le=s,t(26,le)}function pt(s){Ce.call(this,l,s)}const kt=()=>{t(2,B=B!=="microphone"?"microphone":null)};function vt(){n.text=this.value,t(0,n)}function Et(s){he[s?"unshift":"push"](()=>{T=s,t(24,T)})}function Tt(s){he[s?"unshift":"push"](()=>{me=s,t(28,me)})}return l.$$set=s=>{"value"in s&&t(0,n=s.value),"value_is_output"in s&&t(43,o=s.value_is_output),"lines"in s&&t(3,m=s.lines),"i18n"in s&&t(4,u=s.i18n),"placeholder"in s&&t(5,a=s.placeholder),"disabled"in s&&t(6,d=s.disabled),"label"in s&&t(7,_=s.label),"info"in s&&t(8,E=s.info),"show_label"in s&&t(9,h=s.show_label),"max_lines"in s&&t(10,k=s.max_lines),"submit_btn"in s&&t(11,r=s.submit_btn),"stop_btn"in s&&t(12,w=s.stop_btn),"rtl"in s&&t(13,p=s.rtl),"autofocus"in s&&t(44,X=s.autofocus),"text_align"in s&&t(14,D=s.text_align),"autoscroll"in s&&t(45,A=s.autoscroll),"root"in s&&t(15,P=s.root),"file_types"in s&&t(16,R=s.file_types),"max_file_size"in s&&t(17,ue=s.max_file_size),"upload"in s&&t(18,ce=s.upload),"stream_handler"in s&&t(19,fe=s.stream_handler),"file_count"in s&&t(20,F=s.file_count),"max_plain_text_length"in s&&t(46,_e=s.max_plain_text_length),"waveform_settings"in s&&t(21,ge=s.waveform_settings),"waveform_options"in s&&t(22,H=s.waveform_options),"sources_string"in s&&t(47,U=s.sources_string),"active_source"in s&&t(2,B=s.active_source),"html_attributes"in s&&t(23,q=s.html_attributes),"dragging"in s&&t(1,G=s.dragging)},l.$$.update=()=>{l.$$.dirty[1]&65536&&t(29,i=U.split(",").map(s=>s.trim()).filter(s=>s==="upload"||s==="microphone")),l.$$.dirty[0]&2&&I("drag",G),l.$$.dirty[0]&1&&n===null&&t(0,n={text:"",files:[]}),l.$$.dirty[0]&1|l.$$.dirty[1]&131072&&ie!==n.text&&(I("change",n),t(48,ie=n.text)),l.$$.dirty[0]&16778249&&T&&m!==k&&Oe(T,m,k)},[n,G,B,m,u,a,d,_,E,h,k,r,w,p,D,P,R,ue,ce,fe,F,ge,H,q,T,C,le,L,me,i,I,De,qe,Se,Me,ze,Ue,Ve,Ae,He,Ne,Fe,Ie,o,X,A,_e,U,ie,Pe,Re,f,ft,_t,ct,mt,ht,gt,dt,bt,wt,pt,kt,vt,Et,Tt]}class al extends Ge{constructor(e){super(),Le(this,e,ol,sl,We,{value:0,value_is_output:43,lines:3,i18n:4,placeholder:5,disabled:6,label:7,info:8,show_label:9,max_lines:10,submit_btn:11,stop_btn:12,rtl:13,autofocus:44,text_align:14,autoscroll:45,root:15,file_types:16,max_file_size:17,upload:18,stream_handler:19,file_count:20,max_plain_text_length:46,waveform_settings:21,waveform_options:22,sources_string:47,active_source:2,html_attributes:23,dragging:1},null,[-1,-1,-1])}}const rl=al;function at(l){let e,t;const i=[{autoscroll:l[2].autoscroll},{i18n:l[2].i18n},l[17]];let n={};for(let o=0;o<i.length;o+=1)n=Ut(n,i[o]);return e=new jt({props:n}),e.$on("clear_status",l[36]),{c(){Y(e.$$.fragment)},l(o){J(e.$$.fragment,o)},m(o,m){Q(e,o,m),t=!0},p(o,m){const u=m[0]&131076?Vt(i,[m[0]&4&&{autoscroll:o[2].autoscroll},m[0]&4&&{i18n:o[2].i18n},m[0]&131072&&At(o[17])]):{};e.$set(u)},i(o){t||(v(e.$$.fragment,o),t=!0)},o(o){z(e.$$.fragment,o),t=!1},d(o){Z(e,o)}}}function ul(l){let e,t,i,n,o,m,u,a=l[17]&&at(l);function d(r){l[37](r)}function _(r){l[38](r)}function E(r){l[39](r)}function h(r){l[40](r)}let k={file_types:l[6],root:l[23],label:l[9],info:l[10],show_label:l[11],lines:l[7],rtl:l[18],text_align:l[19],waveform_settings:l[29],i18n:l[32],max_lines:l[12]?l[12]:l[7]+1,placeholder:l[8],submit_btn:l[15],stop_btn:l[16],autofocus:l[20],autoscroll:l[21],file_count:l[24],sources_string:l[30],max_file_size:l[2].max_file_size,disabled:!l[22],upload:l[31],stream_handler:l[33],max_plain_text_length:l[25],html_attributes:l[26]};return l[0]!==void 0&&(k.value=l[0]),l[1]!==void 0&&(k.value_is_output=l[1]),l[27]!==void 0&&(k.dragging=l[27]),l[28]!==void 0&&(k.active_source=l[28]),t=new rl({props:k}),he.push(()=>pe(t,"value",d)),he.push(()=>pe(t,"value_is_output",_)),he.push(()=>pe(t,"dragging",E)),he.push(()=>pe(t,"active_source",h)),t.$on("change",l[41]),t.$on("input",l[42]),t.$on("submit",l[43]),t.$on("stop",l[44]),t.$on("blur",l[45]),t.$on("select",l[46]),t.$on("focus",l[47]),t.$on("error",l[48]),t.$on("start_recording",l[49]),t.$on("pause_recording",l[50]),t.$on("stop_recording",l[51]),t.$on("upload",l[52]),t.$on("clear",l[53]),{c(){a&&a.c(),e=ne(),Y(t.$$.fragment)},l(r){a&&a.l(r),e=se(r),J(t.$$.fragment,r)},m(r,w){a&&a.m(r,w),x(r,e,w),Q(t,r,w),u=!0},p(r,w){r[17]?a?(a.p(r,w),w[0]&131072&&v(a,1)):(a=at(r),a.c(),v(a,1),a.m(e.parentNode,e)):a&&(oe(),z(a,1,1,()=>{a=null}),ae());const p={};w[0]&64&&(p.file_types=r[6]),w[0]&8388608&&(p.root=r[23]),w[0]&512&&(p.label=r[9]),w[0]&1024&&(p.info=r[10]),w[0]&2048&&(p.show_label=r[11]),w[0]&128&&(p.lines=r[7]),w[0]&262144&&(p.rtl=r[18]),w[0]&524288&&(p.text_align=r[19]),w[0]&536870912&&(p.waveform_settings=r[29]),w[0]&4224&&(p.max_lines=r[12]?r[12]:r[7]+1),w[0]&256&&(p.placeholder=r[8]),w[0]&32768&&(p.submit_btn=r[15]),w[0]&65536&&(p.stop_btn=r[16]),w[0]&1048576&&(p.autofocus=r[20]),w[0]&2097152&&(p.autoscroll=r[21]),w[0]&16777216&&(p.file_count=r[24]),w[0]&1073741824&&(p.sources_string=r[30]),w[0]&4&&(p.max_file_size=r[2].max_file_size),w[0]&4194304&&(p.disabled=!r[22]),w[0]&33554432&&(p.max_plain_text_length=r[25]),w[0]&67108864&&(p.html_attributes=r[26]),!i&&w[0]&1&&(i=!0,p.value=r[0],ke(()=>i=!1)),!n&&w[0]&2&&(n=!0,p.value_is_output=r[1],ke(()=>n=!1)),!o&&w[0]&134217728&&(o=!0,p.dragging=r[27],ke(()=>o=!1)),!m&&w[0]&268435456&&(m=!0,p.active_source=r[28],ke(()=>m=!1)),t.$set(p)},i(r){u||(v(a),v(t.$$.fragment,r),u=!0)},o(r){z(a),z(t.$$.fragment,r),u=!1},d(r){r&&S(e),a&&a.d(r),Z(t,r)}}}function fl(l){let e,t;return e=new Rt({props:{visible:l[5],elem_id:l[3],elem_classes:[...l[4],"multimodal-textbox"],scale:l[13],min_width:l[14],allow_overflow:!1,padding:!1,border_mode:l[27]?"focus":"base",$$slots:{default:[ul]},$$scope:{ctx:l}}}),{c(){Y(e.$$.fragment)},l(i){J(e.$$.fragment,i)},m(i,n){Q(e,i,n),t=!0},p(i,n){const o={};n[0]&32&&(o.visible=i[5]),n[0]&8&&(o.elem_id=i[3]),n[0]&16&&(o.elem_classes=[...i[4],"multimodal-textbox"]),n[0]&8192&&(o.scale=i[13]),n[0]&16384&&(o.min_width=i[14]),n[0]&134217728&&(o.border_mode=i[27]?"focus":"base"),n[0]&2147459015|n[1]&67108864&&(o.$$scope={dirty:n,ctx:i}),e.$set(o)},i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){z(e.$$.fragment,i),t=!1},d(i){Z(e,i)}}}function _l(l,e,t){let i,{gradio:n}=e,{elem_id:o=""}=e,{elem_classes:m=[]}=e,{visible:u=!0}=e,{value:a={text:"",files:[]}}=e,{file_types:d=null}=e,{lines:_}=e,{placeholder:E=""}=e,{label:h="MultimodalTextbox"}=e,{info:k=void 0}=e,{show_label:r}=e,{max_lines:w}=e,{scale:p=null}=e,{min_width:X=void 0}=e,{submit_btn:D=null}=e,{stop_btn:A=null}=e,{loading_status:P=void 0}=e,{value_is_output:R=!1}=e,{rtl:ue=!1}=e,{text_align:ce=void 0}=e,{autofocus:fe=!1}=e,{autoscroll:F=!0}=e,{interactive:_e}=e,{root:ge}=e,{file_count:H}=e,{max_plain_text_length:U}=e,{sources:B=["upload"]}=e,{waveform_options:q={}}=e,{html_attributes:C=null}=e,T,c=null,g,V="darkorange";rt(()=>{V=getComputedStyle(document==null?void 0:document.documentElement).getPropertyValue("--color-accent"),le(),t(29,g.waveColor=q.waveform_color||"#9ca3af",g),t(29,g.progressColor=q.waveform_progress_color||V,g),t(29,g.mediaControls=q.show_controls,g),t(29,g.sampleRate=q.sample_rate||44100,g)});const G={color:q.trim_region_color,drag:!0,resize:!0};function le(){document.documentElement.style.setProperty("--trim-region-color",G.color||V)}const ie=(...f)=>n.client.upload(...f),L=f=>n.i18n(f),me=(...f)=>n.client.stream(...f),I=()=>n.dispatch("clear_status",P);function be(f){a=f,t(0,a)}function Te(f){R=f,t(1,R)}function Je(f){T=f,t(27,T)}function De(f){c=f,t(28,c)}const qe=()=>n.dispatch("change",a),Se=()=>n.dispatch("input"),Me=()=>n.dispatch("submit"),ze=()=>n.dispatch("stop"),Ue=()=>n.dispatch("blur"),Ve=f=>n.dispatch("select",f.detail),Ae=()=>n.dispatch("focus"),He=({detail:f})=>{n.dispatch("error",f)},Ne=()=>n.dispatch("start_recording"),Fe=()=>n.dispatch("pause_recording"),Ie=()=>n.dispatch("stop_recording"),Pe=f=>n.dispatch("upload",f.detail),Re=()=>n.dispatch("clear");return l.$$set=f=>{"gradio"in f&&t(2,n=f.gradio),"elem_id"in f&&t(3,o=f.elem_id),"elem_classes"in f&&t(4,m=f.elem_classes),"visible"in f&&t(5,u=f.visible),"value"in f&&t(0,a=f.value),"file_types"in f&&t(6,d=f.file_types),"lines"in f&&t(7,_=f.lines),"placeholder"in f&&t(8,E=f.placeholder),"label"in f&&t(9,h=f.label),"info"in f&&t(10,k=f.info),"show_label"in f&&t(11,r=f.show_label),"max_lines"in f&&t(12,w=f.max_lines),"scale"in f&&t(13,p=f.scale),"min_width"in f&&t(14,X=f.min_width),"submit_btn"in f&&t(15,D=f.submit_btn),"stop_btn"in f&&t(16,A=f.stop_btn),"loading_status"in f&&t(17,P=f.loading_status),"value_is_output"in f&&t(1,R=f.value_is_output),"rtl"in f&&t(18,ue=f.rtl),"text_align"in f&&t(19,ce=f.text_align),"autofocus"in f&&t(20,fe=f.autofocus),"autoscroll"in f&&t(21,F=f.autoscroll),"interactive"in f&&t(22,_e=f.interactive),"root"in f&&t(23,ge=f.root),"file_count"in f&&t(24,H=f.file_count),"max_plain_text_length"in f&&t(25,U=f.max_plain_text_length),"sources"in f&&t(34,B=f.sources),"waveform_options"in f&&t(35,q=f.waveform_options),"html_attributes"in f&&t(26,C=f.html_attributes)},l.$$.update=()=>{l.$$.dirty[1]&8&&t(30,i=B.join(","))},t(29,g={height:50,barWidth:2,barGap:3,cursorWidth:2,cursorColor:"#ddd5e9",autoplay:!1,barRadius:10,dragToSeek:!0,normalize:!0,minPxPerSec:20}),[a,R,n,o,m,u,d,_,E,h,k,r,w,p,X,D,A,P,ue,ce,fe,F,_e,ge,H,U,C,T,c,g,i,ie,L,me,B,q,I,be,Te,Je,De,qe,Se,Me,ze,Ue,Ve,Ae,He,Ne,Fe,Ie,Pe,Re]}class El extends Ge{constructor(e){super(),Le(this,e,_l,fl,We,{gradio:2,elem_id:3,elem_classes:4,visible:5,value:0,file_types:6,lines:7,placeholder:8,label:9,info:10,show_label:11,max_lines:12,scale:13,min_width:14,submit_btn:15,stop_btn:16,loading_status:17,value_is_output:1,rtl:18,text_align:19,autofocus:20,autoscroll:21,interactive:22,root:23,file_count:24,max_plain_text_length:25,sources:34,waveform_options:35,html_attributes:26},null,[-1,-1])}get gradio(){return this.$$.ctx[2]}set gradio(e){this.$$set({gradio:e}),M()}get elem_id(){return this.$$.ctx[3]}set elem_id(e){this.$$set({elem_id:e}),M()}get elem_classes(){return this.$$.ctx[4]}set elem_classes(e){this.$$set({elem_classes:e}),M()}get visible(){return this.$$.ctx[5]}set visible(e){this.$$set({visible:e}),M()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),M()}get file_types(){return this.$$.ctx[6]}set file_types(e){this.$$set({file_types:e}),M()}get lines(){return this.$$.ctx[7]}set lines(e){this.$$set({lines:e}),M()}get placeholder(){return this.$$.ctx[8]}set placeholder(e){this.$$set({placeholder:e}),M()}get label(){return this.$$.ctx[9]}set label(e){this.$$set({label:e}),M()}get info(){return this.$$.ctx[10]}set info(e){this.$$set({info:e}),M()}get show_label(){return this.$$.ctx[11]}set show_label(e){this.$$set({show_label:e}),M()}get max_lines(){return this.$$.ctx[12]}set max_lines(e){this.$$set({max_lines:e}),M()}get scale(){return this.$$.ctx[13]}set scale(e){this.$$set({scale:e}),M()}get min_width(){return this.$$.ctx[14]}set min_width(e){this.$$set({min_width:e}),M()}get submit_btn(){return this.$$.ctx[15]}set submit_btn(e){this.$$set({submit_btn:e}),M()}get stop_btn(){return this.$$.ctx[16]}set stop_btn(e){this.$$set({stop_btn:e}),M()}get loading_status(){return this.$$.ctx[17]}set loading_status(e){this.$$set({loading_status:e}),M()}get value_is_output(){return this.$$.ctx[1]}set value_is_output(e){this.$$set({value_is_output:e}),M()}get rtl(){return this.$$.ctx[18]}set rtl(e){this.$$set({rtl:e}),M()}get text_align(){return this.$$.ctx[19]}set text_align(e){this.$$set({text_align:e}),M()}get autofocus(){return this.$$.ctx[20]}set autofocus(e){this.$$set({autofocus:e}),M()}get autoscroll(){return this.$$.ctx[21]}set autoscroll(e){this.$$set({autoscroll:e}),M()}get interactive(){return this.$$.ctx[22]}set interactive(e){this.$$set({interactive:e}),M()}get root(){return this.$$.ctx[23]}set root(e){this.$$set({root:e}),M()}get file_count(){return this.$$.ctx[24]}set file_count(e){this.$$set({file_count:e}),M()}get max_plain_text_length(){return this.$$.ctx[25]}set max_plain_text_length(e){this.$$set({max_plain_text_length:e}),M()}get sources(){return this.$$.ctx[34]}set sources(e){this.$$set({sources:e}),M()}get waveform_options(){return this.$$.ctx[35]}set waveform_options(e){this.$$set({waveform_options:e}),M()}get html_attributes(){return this.$$.ctx[26]}set html_attributes(e){this.$$set({html_attributes:e}),M()}}export{Cl as BaseExample,rl as BaseMultimodalTextbox,El as default};
//# sourceMappingURL=Index.B_2JqC4C.js.map

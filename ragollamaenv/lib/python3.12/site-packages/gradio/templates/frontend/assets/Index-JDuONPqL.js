import{e as zt,p as qt,q as Ct,k as Tt,g as Dt,h as St,M as Mt,V as Et,r as Ht,c as Bt}from"./FullscreenButton-CYWG_tAk.js";import{U as Ft}from"./ModifyUpload-BSCF98tQ.js";import{I as At}from"./Image-0bVIZe-w.js";import"./ImagePreview-BBpG2CcL.js";import{I as Pt}from"./InteractiveAudio-COFUy9Vu.js";import{S as Ut}from"./StreamingBar-DV8lHP68.js";import{default as Rl}from"./Example-BSGyoSj6.js";import"./MarkdownCode-DZKu4yZn.js";import"./index-aONEAEbQ.js";import"./svelte/svelte.js";import"./prism-python-CsyPAoc4.js";import"./init-DNUQbMBV.js";import"./AudioPlayer-8D22Lp8V.js";import"./hls-C7-VjdhD.js";import"./Video-NpeJCQXG.js";const{tick:It}=window.__gradio__svelte__internal;async function Le(t,e,l){if(await It(),e===l)return;const i=window.getComputedStyle(t),n=parseFloat(i.paddingTop),o=parseFloat(i.paddingBottom),g=parseFloat(i.lineHeight);let _=l===void 0?!1:n+o+g*l,a=n+o+e*g;t.style.height="1px";let d;_&&t.scrollHeight>_?d=_:t.scrollHeight<a?d=a:d=t.scrollHeight,t.style.height=`${d}px`}function jt(t,e){if(e.lines===e.max_lines)return;t.style.overflowY="scroll";function l(i){Le(i.target,e.lines,e.max_lines)}if(t.addEventListener("input",l),!!e.text.trim())return Le(t,e.lines,e.max_lines),{destroy:()=>t.removeEventListener("input",l)}}const{SvelteComponent:Lt,action_destroyer:Rt,add_flush_callback:Ne,append:G,attr:w,bind:Xe,binding_callbacks:he,bubble:we,check_outros:ie,create_component:X,destroy_component:J,destroy_each:Vt,detach:O,element:N,ensure_array_like:Je,flush:E,group_outros:ne,init:Wt,insert:Q,is_function:qe,listen:L,mount_component:Z,noop:oe,prevent_default:Kt,run_all:Yt,safe_not_equal:Gt,set_data:Re,set_input_value:Oe,set_style:Qe,space:le,text:Ve,toggle_class:y,transition_in:v,transition_out:C}=window.__gradio__svelte__internal,{onMount:Nt,beforeUpdate:Xt,afterUpdate:Jt,createEventDispatcher:Ot,tick:Ze}=window.__gradio__svelte__internal;function ye(t,e,l){const i=t.slice();return i[72]=e[l],i[74]=l,i}function Qt(t){let e;return{c(){e=Ve(t[7])},m(l,i){Q(l,e,i)},p(l,i){i[0]&128&&Re(e,l[7])},d(l){l&&O(e)}}}function xe(t){let e,l,i,n=Je(t[0].files),o=[];for(let a=0;a<n.length;a+=1)o[a]=$e(ye(t,n,a));const g=a=>C(o[a],1,1,()=>{o[a]=null});let _=t[26]&&et();return{c(){e=N("div");for(let a=0;a<o.length;a+=1)o[a].c();l=le(),_&&_.c(),w(e,"class","thumbnails scroll-hide svelte-5gfv2q"),w(e,"aria-label","Uploaded files"),w(e,"data-testid","container_el"),Qe(e,"display",t[0].files.length>0||t[26]?"flex":"none")},m(a,d){Q(a,e,d);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);G(e,l),_&&_.m(e,null),i=!0},p(a,d){if(d[0]&65|d[1]&16){n=Je(a[0].files);let f;for(f=0;f<n.length;f+=1){const q=ye(a,n,f);o[f]?(o[f].p(q,d),v(o[f],1)):(o[f]=$e(q),o[f].c(),v(o[f],1),o[f].m(e,l))}for(ne(),f=n.length;f<o.length;f+=1)g(f);ie()}a[26]?_||(_=et(),_.c(),_.m(e,null)):_&&(_.d(1),_=null),(!i||d[0]&67108865)&&Qe(e,"display",a[0].files.length>0||a[26]?"flex":"none")},i(a){if(!i){for(let d=0;d<n.length;d+=1)v(o[d]);i=!0}},o(a){o=o.filter(Boolean);for(let d=0;d<o.length;d+=1)C(o[d]);i=!1},d(a){a&&O(e),Vt(o,a),_&&_.d()}}}function Zt(t){let e,l;return e=new Ht({}),{c(){X(e.$$.fragment)},m(i,n){Z(e,i,n),l=!0},p:oe,i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){J(e,i)}}}function yt(t){let e,l;return e=new Et({}),{c(){X(e.$$.fragment)},m(i,n){Z(e,i,n),l=!0},p:oe,i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){J(e,i)}}}function xt(t){let e,l;return e=new Mt({}),{c(){X(e.$$.fragment)},m(i,n){Z(e,i,n),l=!0},p:oe,i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){J(e,i)}}}function $t(t){let e,l;return e=new At({props:{src:t[72].url,title:null,alt:"",loading:"lazy",class:"thumbnail-image"}}),{c(){X(e.$$.fragment)},m(i,n){Z(e,i,n),l=!0},p(i,n){const o={};n[0]&1&&(o.src=i[72].url),e.$set(o)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){J(e,i)}}}function $e(t){let e,l,i,n,o,g,_,a,d,f,q,c,k;n=new Tt({});function r(...S){return t[52](t[74],...S)}const h=[$t,xt,yt,Zt],p=[];function R(S,U){return U[0]&1&&(g=null),U[0]&1&&(_=null),U[0]&1&&(a=null),g==null&&(g=!!(S[72].mime_type&&S[72].mime_type.includes("image"))),g?0:(_==null&&(_=!!(S[72].mime_type&&S[72].mime_type.includes("audio"))),_?1:(a==null&&(a=!!(S[72].mime_type&&S[72].mime_type.includes("video"))),a?2:3))}return d=R(t,[-1,-1,-1]),f=p[d]=h[d](t),{c(){e=N("span"),l=N("button"),i=N("button"),X(n.$$.fragment),o=le(),f.c(),w(i,"class","delete-button svelte-5gfv2q"),y(i,"disabled",t[6]),w(l,"class","thumbnail-item thumbnail-small svelte-5gfv2q"),w(e,"role","listitem"),w(e,"aria-label","File thumbnail")},m(S,U){Q(S,e,U),G(e,l),G(l,i),Z(n,i,null),G(l,o),p[d].m(l,null),q=!0,c||(k=L(i,"click",r),c=!0)},p(S,U){t=S,(!q||U[0]&64)&&y(i,"disabled",t[6]);let V=d;d=R(t,U),d===V?p[d].p(t,U):(ne(),C(p[V],1,1,()=>{p[V]=null}),ie(),f=p[d],f?f.p(t,U):(f=p[d]=h[d](t),f.c()),v(f,1),f.m(l,null))},i(S){q||(v(n.$$.fragment,S),v(f),q=!0)},o(S){C(n.$$.fragment,S),C(f),q=!1},d(S){S&&O(e),J(n),p[d].d(),c=!1,k()}}}function et(t){let e;return{c(){e=N("div"),w(e,"class","loader svelte-5gfv2q"),w(e,"role","status"),w(e,"aria-label","Uploading")},m(l,i){Q(l,e,i)},d(l){l&&O(e)}}}function tt(t){let e,l;return e=new Pt({props:{sources:["microphone"],class_name:"compact-audio",recording:at,waveform_settings:t[21],waveform_options:t[22],i18n:t[4],active_source:t[2],upload:t[18],stream_handler:t[19],stream_every:1,editable:!0,label:t[7],root:t[15],loop:!1,show_label:!1,show_download_button:!1,dragging:!1}}),e.$on("change",t[53]),e.$on("clear",t[54]),e.$on("start_recording",t[55]),e.$on("pause_recording",t[56]),e.$on("stop_recording",t[57]),{c(){X(e.$$.fragment)},m(i,n){Z(e,i,n),l=!0},p(i,n){const o={};n[0]&2097152&&(o.waveform_settings=i[21]),n[0]&4194304&&(o.waveform_options=i[22]),n[0]&16&&(o.i18n=i[4]),n[0]&4&&(o.active_source=i[2]),n[0]&262144&&(o.upload=i[18]),n[0]&524288&&(o.stream_handler=i[19]),n[0]&128&&(o.label=i[7]),n[0]&32768&&(o.root=i[15]),e.$set(o)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){J(e,i)}}}function lt(t){let e,l,i,n,o,g,_,a,d;function f(k){t[59](k)}function q(k){t[60](k)}let c={file_count:t[20],filetype:t[16],root:t[15],max_file_size:t[17],show_progress:!1,disable_click:!0,hidden:!0,upload:t[18],stream_handler:t[19]};return t[1]!==void 0&&(c.dragging=t[1]),t[26]!==void 0&&(c.uploading=t[26]),e=new Ft({props:c}),t[58](e),he.push(()=>Xe(e,"dragging",f)),he.push(()=>Xe(e,"uploading",q)),e.$on("load",t[34]),e.$on("error",t[61]),g=new qt({}),{c(){X(e.$$.fragment),n=le(),o=N("button"),X(g.$$.fragment),w(o,"data-testid","upload-button"),w(o,"class","upload-button svelte-5gfv2q"),o.disabled=t[6]},m(k,r){Z(e,k,r),Q(k,n,r),Q(k,o,r),Z(g,o,null),_=!0,a||(d=L(o,"click",function(){qe(t[6]?void 0:t[36])&&(t[6]?void 0:t[36]).apply(this,arguments)}),a=!0)},p(k,r){t=k;const h={};r[0]&1048576&&(h.file_count=t[20]),r[0]&65536&&(h.filetype=t[16]),r[0]&32768&&(h.root=t[15]),r[0]&131072&&(h.max_file_size=t[17]),r[0]&262144&&(h.upload=t[18]),r[0]&524288&&(h.stream_handler=t[19]),!l&&r[0]&2&&(l=!0,h.dragging=t[1],Ne(()=>l=!1)),!i&&r[0]&67108864&&(i=!0,h.uploading=t[26],Ne(()=>i=!1)),e.$set(h),(!_||r[0]&64)&&(o.disabled=t[6])},i(k){_||(v(e.$$.fragment,k),v(g.$$.fragment,k),_=!0)},o(k){C(e.$$.fragment,k),C(g.$$.fragment,k),_=!1},d(k){k&&(O(n),O(o)),t[58](null),J(e,k),J(g),a=!1,d()}}}function it(t){let e,l,i,n,o;return l=new Ct({}),{c(){e=N("button"),X(l.$$.fragment),w(e,"data-testid","microphone-button"),w(e,"class","microphone-button svelte-5gfv2q"),e.disabled=t[6],y(e,"recording",at)},m(g,_){Q(g,e,_),Z(l,e,null),i=!0,n||(o=L(e,"click",function(){qe(t[6]?void 0:t[62])&&(t[6]?void 0:t[62]).apply(this,arguments)}),n=!0)},p(g,_){t=g,(!i||_[0]&64)&&(e.disabled=t[6])},i(g){i||(v(l.$$.fragment,g),i=!0)},o(g){C(l.$$.fragment,g),i=!1},d(g){g&&O(e),J(l),n=!1,o()}}}function nt(t){let e,l,i,n,o,g;const _=[tl,el],a=[];function d(f,q){return f[11]===!0?0:1}return l=d(t),i=a[l]=_[l](t),{c(){e=N("button"),i.c(),w(e,"class","submit-button svelte-5gfv2q"),e.disabled=t[6],y(e,"padded-button",t[11]!==!0)},m(f,q){Q(f,e,q),a[l].m(e,null),n=!0,o||(g=L(e,"click",function(){qe(t[6]?void 0:t[38])&&(t[6]?void 0:t[38]).apply(this,arguments)}),o=!0)},p(f,q){t=f;let c=l;l=d(t),l===c?a[l].p(t,q):(ne(),C(a[c],1,1,()=>{a[c]=null}),ie(),i=a[l],i?i.p(t,q):(i=a[l]=_[l](t),i.c()),v(i,1),i.m(e,null)),(!n||q[0]&64)&&(e.disabled=t[6]),(!n||q[0]&2048)&&y(e,"padded-button",t[11]!==!0)},i(f){n||(v(i),n=!0)},o(f){C(i),n=!1},d(f){f&&O(e),a[l].d(),o=!1,g()}}}function el(t){let e;return{c(){e=Ve(t[11])},m(l,i){Q(l,e,i)},p(l,i){i[0]&2048&&Re(e,l[11])},i:oe,o:oe,d(l){l&&O(e)}}}function tl(t){let e,l;return e=new Dt({}),{c(){X(e.$$.fragment)},m(i,n){Z(e,i,n),l=!0},p:oe,i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){J(e,i)}}}function st(t){let e,l,i,n,o,g;const _=[il,ll],a=[];function d(f,q){return f[12]===!0?0:1}return l=d(t),i=a[l]=_[l](t),{c(){e=N("button"),i.c(),w(e,"class","stop-button svelte-5gfv2q"),y(e,"padded-button",t[12]!==!0)},m(f,q){Q(f,e,q),a[l].m(e,null),n=!0,o||(g=L(e,"click",t[37]),o=!0)},p(f,q){let c=l;l=d(f),l===c?a[l].p(f,q):(ne(),C(a[c],1,1,()=>{a[c]=null}),ie(),i=a[l],i?i.p(f,q):(i=a[l]=_[l](f),i.c()),v(i,1),i.m(e,null)),(!n||q[0]&4096)&&y(e,"padded-button",f[12]!==!0)},i(f){n||(v(i),n=!0)},o(f){C(i),n=!1},d(f){f&&O(e),a[l].d(),o=!1,g()}}}function ll(t){let e;return{c(){e=Ve(t[12])},m(l,i){Q(l,e,i)},p(l,i){i[0]&4096&&Re(e,l[12])},i:oe,o:oe,d(l){l&&O(e)}}}function il(t){let e,l;return e=new St({props:{fill:"none",stroke_width:2.5}}),{c(){X(e.$$.fragment)},m(i,n){Z(e,i,n),l=!0},p:oe,i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){J(e,i)}}}function nl(t){let e,l,i,n,o=t[29]&&t[29].includes("microphone")&&t[2]==="microphone",g,_,a=t[29]&&t[29].includes("upload")&&!(t[20]==="single"&&t[0].files.length>0),d,f=t[29]&&t[29].includes("microphone"),q,c,k,r,h,p,R,S,U,V,W,x,ae,se,A,$,ue;l=new zt({props:{show_label:t[9],info:t[8],rtl:t[13],$$slots:{default:[Qt]},$$scope:{ctx:t}}});let P=(t[0].files.length>0||t[26])&&xe(t),B=o&&tt(t),D=a&&lt(t),M=f&&it(t),T=t[11]&&nt(t),z=t[12]&&st(t);return{c(){e=N("div"),X(l.$$.fragment),i=le(),P&&P.c(),n=le(),B&&B.c(),g=le(),_=N("div"),D&&D.c(),d=le(),M&&M.c(),q=le(),c=N("textarea"),ae=le(),T&&T.c(),se=le(),z&&z.c(),w(c,"data-testid","textbox"),w(c,"class","scroll-hide svelte-5gfv2q"),w(c,"dir",k=t[13]?"rtl":"ltr"),w(c,"placeholder",t[5]),w(c,"rows",t[3]),c.disabled=t[6],w(c,"style",r=t[14]?"text-align: "+t[14]:""),w(c,"autocapitalize",h=t[23]?.autocapitalize),w(c,"autocorrect",p=t[23]?.autocorrect),w(c,"spellcheck",R=t[23]?.spellcheck),w(c,"autocomplete",S=t[23]?.autocomplete),w(c,"tabindex",U=t[23]?.tabindex),w(c,"enterkeyhint",V=t[23]?.enterkeyhint),w(c,"lang",W=t[23]?.lang),y(c,"no-label",!t[9]),w(_,"class","input-container svelte-5gfv2q"),w(e,"class","full-container svelte-5gfv2q"),w(e,"role","group"),w(e,"aria-label","Multimedia input field"),y(e,"dragging",t[1])},m(m,b){Q(m,e,b),Z(l,e,null),G(e,i),P&&P.m(e,null),G(e,n),B&&B.m(e,null),G(e,g),G(e,_),D&&D.m(_,null),G(_,d),M&&M.m(_,null),G(_,q),G(_,c),Oe(c,t[0].text),t[64](c),G(_,ae),T&&T.m(_,null),G(_,se),z&&z.m(_,null),t[65](e),A=!0,$||(ue=[Rt(x=jt.call(null,c,{text:t[0].text,lines:t[3],max_lines:t[10]})),L(c,"input",t[63]),L(c,"keypress",t[32]),L(c,"blur",t[50]),L(c,"select",t[31]),L(c,"focus",t[51]),L(c,"scroll",t[33]),L(c,"paste",t[39]),L(e,"dragenter",t[40]),L(e,"dragleave",t[41]),L(e,"dragover",Kt(t[49])),L(e,"drop",t[42])],$=!0)},p(m,b){const Y={};b[0]&512&&(Y.show_label=m[9]),b[0]&256&&(Y.info=m[8]),b[0]&8192&&(Y.rtl=m[13]),b[0]&128|b[2]&8192&&(Y.$$scope={dirty:b,ctx:m}),l.$set(Y),m[0].files.length>0||m[26]?P?(P.p(m,b),b[0]&67108865&&v(P,1)):(P=xe(m),P.c(),v(P,1),P.m(e,n)):P&&(ne(),C(P,1,1,()=>{P=null}),ie()),b[0]&536870916&&(o=m[29]&&m[29].includes("microphone")&&m[2]==="microphone"),o?B?(B.p(m,b),b[0]&536870916&&v(B,1)):(B=tt(m),B.c(),v(B,1),B.m(e,g)):B&&(ne(),C(B,1,1,()=>{B=null}),ie()),b[0]&537919489&&(a=m[29]&&m[29].includes("upload")&&!(m[20]==="single"&&m[0].files.length>0)),a?D?(D.p(m,b),b[0]&537919489&&v(D,1)):(D=lt(m),D.c(),v(D,1),D.m(_,d)):D&&(ne(),C(D,1,1,()=>{D=null}),ie()),b[0]&536870912&&(f=m[29]&&m[29].includes("microphone")),f?M?(M.p(m,b),b[0]&536870912&&v(M,1)):(M=it(m),M.c(),v(M,1),M.m(_,q)):M&&(ne(),C(M,1,1,()=>{M=null}),ie()),(!A||b[0]&8192&&k!==(k=m[13]?"rtl":"ltr"))&&w(c,"dir",k),(!A||b[0]&32)&&w(c,"placeholder",m[5]),(!A||b[0]&8)&&w(c,"rows",m[3]),(!A||b[0]&64)&&(c.disabled=m[6]),(!A||b[0]&16384&&r!==(r=m[14]?"text-align: "+m[14]:""))&&w(c,"style",r),(!A||b[0]&8388608&&h!==(h=m[23]?.autocapitalize))&&w(c,"autocapitalize",h),(!A||b[0]&8388608&&p!==(p=m[23]?.autocorrect))&&w(c,"autocorrect",p),(!A||b[0]&8388608&&R!==(R=m[23]?.spellcheck))&&w(c,"spellcheck",R),(!A||b[0]&8388608&&S!==(S=m[23]?.autocomplete))&&w(c,"autocomplete",S),(!A||b[0]&8388608&&U!==(U=m[23]?.tabindex))&&w(c,"tabindex",U),(!A||b[0]&8388608&&V!==(V=m[23]?.enterkeyhint))&&w(c,"enterkeyhint",V),(!A||b[0]&8388608&&W!==(W=m[23]?.lang))&&w(c,"lang",W),x&&qe(x.update)&&b[0]&1033&&x.update.call(null,{text:m[0].text,lines:m[3],max_lines:m[10]}),b[0]&1&&Oe(c,m[0].text),(!A||b[0]&512)&&y(c,"no-label",!m[9]),m[11]?T?(T.p(m,b),b[0]&2048&&v(T,1)):(T=nt(m),T.c(),v(T,1),T.m(_,se)):T&&(ne(),C(T,1,1,()=>{T=null}),ie()),m[12]?z?(z.p(m,b),b[0]&4096&&v(z,1)):(z=st(m),z.c(),v(z,1),z.m(_,null)):z&&(ne(),C(z,1,1,()=>{z=null}),ie()),(!A||b[0]&2)&&y(e,"dragging",m[1])},i(m){A||(v(l.$$.fragment,m),v(P),v(B),v(D),v(M),v(T),v(z),A=!0)},o(m){C(l.$$.fragment,m),C(P),C(B),C(D),C(M),C(T),C(z),A=!1},d(m){m&&O(e),J(l),P&&P.d(),B&&B.d(),D&&D.d(),M&&M.d(),t[64](null),T&&T.d(),z&&z.d(),t[65](null),$=!1,Yt(ue)}}}let at=!1;function sl(t,e,l){let i,{value:n={text:"",files:[]}}=e,{value_is_output:o=!1}=e,{lines:g=1}=e,{i18n:_}=e,{placeholder:a="Type here..."}=e,{disabled:d=!1}=e,{label:f}=e,{info:q=void 0}=e,{show_label:c=!0}=e,{max_lines:k}=e,{submit_btn:r=null}=e,{stop_btn:h=null}=e,{rtl:p=!1}=e,{autofocus:R=!1}=e,{text_align:S=void 0}=e,{autoscroll:U=!0}=e,{root:V}=e,{file_types:W=null}=e,{max_file_size:x=null}=e,{upload:ae}=e,{stream_handler:se}=e,{file_count:A="multiple"}=e,{max_plain_text_length:$=1e3}=e,{waveform_settings:ue}=e,{waveform_options:P={show_recording_waveform:!0}}=e,{sources_string:B="upload"}=e,{active_source:D=null}=e,{html_attributes:M=null}=e,T,z,m,b=0,Y=!1,{dragging:ee=!1}=e,me=!1,ge=n?.text??"",te=null,fe;const I=Ot();Xt(()=>{m=z&&z.offsetHeight+z.scrollTop>z.scrollHeight-100});const Ce=()=>{m&&U&&!Y&&z.scrollTo(0,z.scrollHeight)};async function be(){I("change",n),o||I("input")}Nt(()=>{R&&z!==null&&z.focus()}),Jt(()=>{m&&U&&Ce(),R&&z&&z.focus()});function Te(s){const F=s.target,j=F.value,K=[F.selectionStart,F.selectionEnd];I("select",{value:j.substring(...K),index:K})}async function De(s){await Ze(),s.key==="Enter"&&s.shiftKey&&g>1?(s.preventDefault(),I("submit")):s.key==="Enter"&&!s.shiftKey&&g===1&&k>=1&&(s.preventDefault(),I("submit"),l(2,D=null),te&&(n.files.push(te),l(0,n),l(27,te=null)))}function Se(s){const F=s.target,j=F.scrollTop;j<b&&(Y=!0),b=j;const K=F.scrollHeight-F.clientHeight;j>=K&&(Y=!1)}async function Me({detail:s}){if(be(),Array.isArray(s)){for(let F of s)n.files.push(F);l(0,n)}else n.files.push(s),l(0,n);await Ze(),I("change",n),I("upload",s)}function pe(s,F){be(),s.stopPropagation(),n.files.splice(F,1),l(0,n)}function Ee(){T.open_upload()}function He(){I("stop")}function Be(){I("submit"),l(2,D=null),te&&(n.files.push(te),l(0,n),l(27,te=null))}async function Fe(s){if(!s.clipboardData)return;const F=s.clipboardData.items,j=s.clipboardData.getData("text");if(j&&j.length>$){s.preventDefault();const K=new window.File([j],"pasted_text.txt",{type:"text/plain",lastModified:Date.now()});T&&T.load_files([K]);return}for(let K in F){const re=F[K];if(re.kind==="file"&&re.type.includes("image")){const _e=re.getAsFile();_e&&T.load_files([_e])}}}function Ae(s){s.preventDefault(),l(1,ee=!0)}function Pe(s){s.preventDefault();const F=fe.getBoundingClientRect(),{clientX:j,clientY:K}=s;(j<=F.left||j>=F.right||K<=F.top||K>=F.bottom)&&l(1,ee=!1)}function Ue(s){if(s.preventDefault(),l(1,ee=!1),s.dataTransfer&&s.dataTransfer.files){const F=Array.from(s.dataTransfer.files);if(W){const j=F.filter(re=>W.some(_e=>_e.startsWith(".")?re.name.toLowerCase().endsWith(_e.toLowerCase()):re.type.match(new RegExp(_e.replace("*",".*"))))),K=F.length-j.length;K>0&&I("error",`${K} file(s) were rejected. Accepted formats: ${W.join(", ")}`),j.length>0&&T.load_files(j)}else T.load_files(F)}}function Ie(s){we.call(this,t,s)}function je(s){we.call(this,t,s)}function u(s){we.call(this,t,s)}const ut=(s,F)=>pe(F,s),rt=({detail:s})=>{s!==null&&l(27,te=s)},ft=()=>{l(2,D=null)},_t=()=>I("start_recording"),ct=()=>I("pause_recording"),mt=()=>I("stop_recording");function gt(s){he[s?"unshift":"push"](()=>{T=s,l(25,T)})}function ht(s){ee=s,l(1,ee)}function dt(s){me=s,l(26,me)}function bt(s){we.call(this,t,s)}const pt=()=>{l(2,D=D!=="microphone"?"microphone":null)};function wt(){n.text=this.value,l(0,n)}function kt(s){he[s?"unshift":"push"](()=>{z=s,l(24,z)})}function vt(s){he[s?"unshift":"push"](()=>{fe=s,l(28,fe)})}return t.$$set=s=>{"value"in s&&l(0,n=s.value),"value_is_output"in s&&l(43,o=s.value_is_output),"lines"in s&&l(3,g=s.lines),"i18n"in s&&l(4,_=s.i18n),"placeholder"in s&&l(5,a=s.placeholder),"disabled"in s&&l(6,d=s.disabled),"label"in s&&l(7,f=s.label),"info"in s&&l(8,q=s.info),"show_label"in s&&l(9,c=s.show_label),"max_lines"in s&&l(10,k=s.max_lines),"submit_btn"in s&&l(11,r=s.submit_btn),"stop_btn"in s&&l(12,h=s.stop_btn),"rtl"in s&&l(13,p=s.rtl),"autofocus"in s&&l(44,R=s.autofocus),"text_align"in s&&l(14,S=s.text_align),"autoscroll"in s&&l(45,U=s.autoscroll),"root"in s&&l(15,V=s.root),"file_types"in s&&l(16,W=s.file_types),"max_file_size"in s&&l(17,x=s.max_file_size),"upload"in s&&l(18,ae=s.upload),"stream_handler"in s&&l(19,se=s.stream_handler),"file_count"in s&&l(20,A=s.file_count),"max_plain_text_length"in s&&l(46,$=s.max_plain_text_length),"waveform_settings"in s&&l(21,ue=s.waveform_settings),"waveform_options"in s&&l(22,P=s.waveform_options),"sources_string"in s&&l(47,B=s.sources_string),"active_source"in s&&l(2,D=s.active_source),"html_attributes"in s&&l(23,M=s.html_attributes),"dragging"in s&&l(1,ee=s.dragging)},t.$$.update=()=>{t.$$.dirty[1]&65536&&l(29,i=B.split(",").map(s=>s.trim()).filter(s=>s==="upload"||s==="microphone")),t.$$.dirty[0]&2&&I("drag",ee),t.$$.dirty[0]&1&&n===null&&l(0,n={text:"",files:[]}),t.$$.dirty[0]&1|t.$$.dirty[1]&131072&&ge!==n.text&&(I("change",n),l(48,ge=n.text)),t.$$.dirty[0]&16778249&&z&&g!==k&&Le(z,g,k)},[n,ee,D,g,_,a,d,f,q,c,k,r,h,p,S,V,W,x,ae,se,A,ue,P,M,z,T,me,te,fe,i,I,Te,De,Se,Me,pe,Ee,He,Be,Fe,Ae,Pe,Ue,o,R,U,$,B,ge,Ie,je,u,ut,rt,ft,_t,ct,mt,gt,ht,dt,bt,pt,wt,kt,vt]}class ol extends Lt{constructor(e){super(),Wt(this,e,sl,nl,Gt,{value:0,value_is_output:43,lines:3,i18n:4,placeholder:5,disabled:6,label:7,info:8,show_label:9,max_lines:10,submit_btn:11,stop_btn:12,rtl:13,autofocus:44,text_align:14,autoscroll:45,root:15,file_types:16,max_file_size:17,upload:18,stream_handler:19,file_count:20,max_plain_text_length:46,waveform_settings:21,waveform_options:22,sources_string:47,active_source:2,html_attributes:23,dragging:1},null,[-1,-1,-1])}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),E()}get value_is_output(){return this.$$.ctx[43]}set value_is_output(e){this.$$set({value_is_output:e}),E()}get lines(){return this.$$.ctx[3]}set lines(e){this.$$set({lines:e}),E()}get i18n(){return this.$$.ctx[4]}set i18n(e){this.$$set({i18n:e}),E()}get placeholder(){return this.$$.ctx[5]}set placeholder(e){this.$$set({placeholder:e}),E()}get disabled(){return this.$$.ctx[6]}set disabled(e){this.$$set({disabled:e}),E()}get label(){return this.$$.ctx[7]}set label(e){this.$$set({label:e}),E()}get info(){return this.$$.ctx[8]}set info(e){this.$$set({info:e}),E()}get show_label(){return this.$$.ctx[9]}set show_label(e){this.$$set({show_label:e}),E()}get max_lines(){return this.$$.ctx[10]}set max_lines(e){this.$$set({max_lines:e}),E()}get submit_btn(){return this.$$.ctx[11]}set submit_btn(e){this.$$set({submit_btn:e}),E()}get stop_btn(){return this.$$.ctx[12]}set stop_btn(e){this.$$set({stop_btn:e}),E()}get rtl(){return this.$$.ctx[13]}set rtl(e){this.$$set({rtl:e}),E()}get autofocus(){return this.$$.ctx[44]}set autofocus(e){this.$$set({autofocus:e}),E()}get text_align(){return this.$$.ctx[14]}set text_align(e){this.$$set({text_align:e}),E()}get autoscroll(){return this.$$.ctx[45]}set autoscroll(e){this.$$set({autoscroll:e}),E()}get root(){return this.$$.ctx[15]}set root(e){this.$$set({root:e}),E()}get file_types(){return this.$$.ctx[16]}set file_types(e){this.$$set({file_types:e}),E()}get max_file_size(){return this.$$.ctx[17]}set max_file_size(e){this.$$set({max_file_size:e}),E()}get upload(){return this.$$.ctx[18]}set upload(e){this.$$set({upload:e}),E()}get stream_handler(){return this.$$.ctx[19]}set stream_handler(e){this.$$set({stream_handler:e}),E()}get file_count(){return this.$$.ctx[20]}set file_count(e){this.$$set({file_count:e}),E()}get max_plain_text_length(){return this.$$.ctx[46]}set max_plain_text_length(e){this.$$set({max_plain_text_length:e}),E()}get waveform_settings(){return this.$$.ctx[21]}set waveform_settings(e){this.$$set({waveform_settings:e}),E()}get waveform_options(){return this.$$.ctx[22]}set waveform_options(e){this.$$set({waveform_options:e}),E()}get sources_string(){return this.$$.ctx[47]}set sources_string(e){this.$$set({sources_string:e}),E()}get active_source(){return this.$$.ctx[2]}set active_source(e){this.$$set({active_source:e}),E()}get html_attributes(){return this.$$.ctx[23]}set html_attributes(e){this.$$set({html_attributes:e}),E()}get dragging(){return this.$$.ctx[1]}set dragging(e){this.$$set({dragging:e}),E()}}const{SvelteComponent:al,add_flush_callback:ke,assign:ul,bind:ve,binding_callbacks:ze,check_outros:rl,create_component:We,destroy_component:Ke,detach:fl,flush:H,get_spread_object:_l,get_spread_update:cl,group_outros:ml,init:gl,insert:hl,mount_component:Ye,safe_not_equal:dl,space:bl,transition_in:ce,transition_out:de}=window.__gradio__svelte__internal,{onMount:pl}=window.__gradio__svelte__internal;function ot(t){let e,l;const i=[{autoscroll:t[2].autoscroll},{i18n:t[2].i18n},t[17]];let n={};for(let o=0;o<i.length;o+=1)n=ul(n,i[o]);return e=new Ut({props:n}),e.$on("clear_status",t[36]),{c(){We(e.$$.fragment)},m(o,g){Ye(e,o,g),l=!0},p(o,g){const _=g[0]&131076?cl(i,[g[0]&4&&{autoscroll:o[2].autoscroll},g[0]&4&&{i18n:o[2].i18n},g[0]&131072&&_l(o[17])]):{};e.$set(_)},i(o){l||(ce(e.$$.fragment,o),l=!0)},o(o){de(e.$$.fragment,o),l=!1},d(o){Ke(e,o)}}}function wl(t){let e,l,i,n,o,g,_,a=t[17]&&ot(t);function d(r){t[37](r)}function f(r){t[38](r)}function q(r){t[39](r)}function c(r){t[40](r)}let k={file_types:t[6],root:t[23],label:t[9],info:t[10],show_label:t[11],lines:t[7],rtl:t[18],text_align:t[19],waveform_settings:t[29],i18n:t[32],max_lines:t[12]?t[12]:t[7]+1,placeholder:t[8],submit_btn:t[15],stop_btn:t[16],autofocus:t[20],autoscroll:t[21],file_count:t[24],sources_string:t[30],max_file_size:t[2].max_file_size,disabled:!t[22],upload:t[31],stream_handler:t[33],max_plain_text_length:t[25],html_attributes:t[26]};return t[0]!==void 0&&(k.value=t[0]),t[1]!==void 0&&(k.value_is_output=t[1]),t[27]!==void 0&&(k.dragging=t[27]),t[28]!==void 0&&(k.active_source=t[28]),l=new ol({props:k}),ze.push(()=>ve(l,"value",d)),ze.push(()=>ve(l,"value_is_output",f)),ze.push(()=>ve(l,"dragging",q)),ze.push(()=>ve(l,"active_source",c)),l.$on("change",t[41]),l.$on("input",t[42]),l.$on("submit",t[43]),l.$on("stop",t[44]),l.$on("blur",t[45]),l.$on("select",t[46]),l.$on("focus",t[47]),l.$on("error",t[48]),l.$on("start_recording",t[49]),l.$on("pause_recording",t[50]),l.$on("stop_recording",t[51]),l.$on("upload",t[52]),l.$on("clear",t[53]),{c(){a&&a.c(),e=bl(),We(l.$$.fragment)},m(r,h){a&&a.m(r,h),hl(r,e,h),Ye(l,r,h),_=!0},p(r,h){r[17]?a?(a.p(r,h),h[0]&131072&&ce(a,1)):(a=ot(r),a.c(),ce(a,1),a.m(e.parentNode,e)):a&&(ml(),de(a,1,1,()=>{a=null}),rl());const p={};h[0]&64&&(p.file_types=r[6]),h[0]&8388608&&(p.root=r[23]),h[0]&512&&(p.label=r[9]),h[0]&1024&&(p.info=r[10]),h[0]&2048&&(p.show_label=r[11]),h[0]&128&&(p.lines=r[7]),h[0]&262144&&(p.rtl=r[18]),h[0]&524288&&(p.text_align=r[19]),h[0]&536870912&&(p.waveform_settings=r[29]),h[0]&4224&&(p.max_lines=r[12]?r[12]:r[7]+1),h[0]&256&&(p.placeholder=r[8]),h[0]&32768&&(p.submit_btn=r[15]),h[0]&65536&&(p.stop_btn=r[16]),h[0]&1048576&&(p.autofocus=r[20]),h[0]&2097152&&(p.autoscroll=r[21]),h[0]&16777216&&(p.file_count=r[24]),h[0]&1073741824&&(p.sources_string=r[30]),h[0]&4&&(p.max_file_size=r[2].max_file_size),h[0]&4194304&&(p.disabled=!r[22]),h[0]&33554432&&(p.max_plain_text_length=r[25]),h[0]&67108864&&(p.html_attributes=r[26]),!i&&h[0]&1&&(i=!0,p.value=r[0],ke(()=>i=!1)),!n&&h[0]&2&&(n=!0,p.value_is_output=r[1],ke(()=>n=!1)),!o&&h[0]&134217728&&(o=!0,p.dragging=r[27],ke(()=>o=!1)),!g&&h[0]&268435456&&(g=!0,p.active_source=r[28],ke(()=>g=!1)),l.$set(p)},i(r){_||(ce(a),ce(l.$$.fragment,r),_=!0)},o(r){de(a),de(l.$$.fragment,r),_=!1},d(r){r&&fl(e),a&&a.d(r),Ke(l,r)}}}function kl(t){let e,l;return e=new Bt({props:{visible:t[5],elem_id:t[3],elem_classes:[...t[4],"multimodal-textbox"],scale:t[13],min_width:t[14],allow_overflow:!1,padding:!1,border_mode:t[27]?"focus":"base",$$slots:{default:[wl]},$$scope:{ctx:t}}}),{c(){We(e.$$.fragment)},m(i,n){Ye(e,i,n),l=!0},p(i,n){const o={};n[0]&32&&(o.visible=i[5]),n[0]&8&&(o.elem_id=i[3]),n[0]&16&&(o.elem_classes=[...i[4],"multimodal-textbox"]),n[0]&8192&&(o.scale=i[13]),n[0]&16384&&(o.min_width=i[14]),n[0]&134217728&&(o.border_mode=i[27]?"focus":"base"),n[0]&2147459015|n[1]&67108864&&(o.$$scope={dirty:n,ctx:i}),e.$set(o)},i(i){l||(ce(e.$$.fragment,i),l=!0)},o(i){de(e.$$.fragment,i),l=!1},d(i){Ke(e,i)}}}function vl(t,e,l){let i,{gradio:n}=e,{elem_id:o=""}=e,{elem_classes:g=[]}=e,{visible:_=!0}=e,{value:a={text:"",files:[]}}=e,{file_types:d=null}=e,{lines:f}=e,{placeholder:q=""}=e,{label:c="MultimodalTextbox"}=e,{info:k=void 0}=e,{show_label:r}=e,{max_lines:h}=e,{scale:p=null}=e,{min_width:R=void 0}=e,{submit_btn:S=null}=e,{stop_btn:U=null}=e,{loading_status:V=void 0}=e,{value_is_output:W=!1}=e,{rtl:x=!1}=e,{text_align:ae=void 0}=e,{autofocus:se=!1}=e,{autoscroll:A=!0}=e,{interactive:$}=e,{root:ue}=e,{file_count:P}=e,{max_plain_text_length:B}=e,{sources:D=["upload"]}=e,{waveform_options:M={}}=e,{html_attributes:T=null}=e,z,m=null,b,Y="darkorange";pl(()=>{Y=getComputedStyle(document?.documentElement).getPropertyValue("--color-accent"),me(),l(29,b.waveColor=M.waveform_color||"#9ca3af",b),l(29,b.progressColor=M.waveform_progress_color||Y,b),l(29,b.mediaControls=M.show_controls,b),l(29,b.sampleRate=M.sample_rate||44100,b)});const ee={color:M.trim_region_color};function me(){document.documentElement.style.setProperty("--trim-region-color",ee.color||Y)}const ge=(...u)=>n.client.upload(...u),te=u=>n.i18n(u),fe=(...u)=>n.client.stream(...u),I=()=>n.dispatch("clear_status",V);function Ce(u){a=u,l(0,a)}function be(u){W=u,l(1,W)}function Ge(u){z=u,l(27,z)}function Te(u){m=u,l(28,m)}const De=()=>n.dispatch("change",a),Se=()=>n.dispatch("input"),Me=()=>n.dispatch("submit"),pe=()=>n.dispatch("stop"),Ee=()=>n.dispatch("blur"),He=u=>n.dispatch("select",u.detail),Be=()=>n.dispatch("focus"),Fe=({detail:u})=>{n.dispatch("error",u)},Ae=()=>n.dispatch("start_recording"),Pe=()=>n.dispatch("pause_recording"),Ue=()=>n.dispatch("stop_recording"),Ie=u=>n.dispatch("upload",u.detail),je=()=>n.dispatch("clear");return t.$$set=u=>{"gradio"in u&&l(2,n=u.gradio),"elem_id"in u&&l(3,o=u.elem_id),"elem_classes"in u&&l(4,g=u.elem_classes),"visible"in u&&l(5,_=u.visible),"value"in u&&l(0,a=u.value),"file_types"in u&&l(6,d=u.file_types),"lines"in u&&l(7,f=u.lines),"placeholder"in u&&l(8,q=u.placeholder),"label"in u&&l(9,c=u.label),"info"in u&&l(10,k=u.info),"show_label"in u&&l(11,r=u.show_label),"max_lines"in u&&l(12,h=u.max_lines),"scale"in u&&l(13,p=u.scale),"min_width"in u&&l(14,R=u.min_width),"submit_btn"in u&&l(15,S=u.submit_btn),"stop_btn"in u&&l(16,U=u.stop_btn),"loading_status"in u&&l(17,V=u.loading_status),"value_is_output"in u&&l(1,W=u.value_is_output),"rtl"in u&&l(18,x=u.rtl),"text_align"in u&&l(19,ae=u.text_align),"autofocus"in u&&l(20,se=u.autofocus),"autoscroll"in u&&l(21,A=u.autoscroll),"interactive"in u&&l(22,$=u.interactive),"root"in u&&l(23,ue=u.root),"file_count"in u&&l(24,P=u.file_count),"max_plain_text_length"in u&&l(25,B=u.max_plain_text_length),"sources"in u&&l(34,D=u.sources),"waveform_options"in u&&l(35,M=u.waveform_options),"html_attributes"in u&&l(26,T=u.html_attributes)},t.$$.update=()=>{t.$$.dirty[1]&8&&l(30,i=D.join(","))},l(29,b={height:50,barWidth:2,barGap:3,cursorWidth:2,cursorColor:"#ddd5e9",autoplay:!1,barRadius:10,dragToSeek:!0,normalize:!0,minPxPerSec:20}),[a,W,n,o,g,_,d,f,q,c,k,r,h,p,R,S,U,V,x,ae,se,A,$,ue,P,B,T,z,m,b,i,ge,te,fe,D,M,I,Ce,be,Ge,Te,De,Se,Me,pe,Ee,He,Be,Fe,Ae,Pe,Ue,Ie,je]}class Il extends al{constructor(e){super(),gl(this,e,vl,kl,dl,{gradio:2,elem_id:3,elem_classes:4,visible:5,value:0,file_types:6,lines:7,placeholder:8,label:9,info:10,show_label:11,max_lines:12,scale:13,min_width:14,submit_btn:15,stop_btn:16,loading_status:17,value_is_output:1,rtl:18,text_align:19,autofocus:20,autoscroll:21,interactive:22,root:23,file_count:24,max_plain_text_length:25,sources:34,waveform_options:35,html_attributes:26},null,[-1,-1])}get gradio(){return this.$$.ctx[2]}set gradio(e){this.$$set({gradio:e}),H()}get elem_id(){return this.$$.ctx[3]}set elem_id(e){this.$$set({elem_id:e}),H()}get elem_classes(){return this.$$.ctx[4]}set elem_classes(e){this.$$set({elem_classes:e}),H()}get visible(){return this.$$.ctx[5]}set visible(e){this.$$set({visible:e}),H()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),H()}get file_types(){return this.$$.ctx[6]}set file_types(e){this.$$set({file_types:e}),H()}get lines(){return this.$$.ctx[7]}set lines(e){this.$$set({lines:e}),H()}get placeholder(){return this.$$.ctx[8]}set placeholder(e){this.$$set({placeholder:e}),H()}get label(){return this.$$.ctx[9]}set label(e){this.$$set({label:e}),H()}get info(){return this.$$.ctx[10]}set info(e){this.$$set({info:e}),H()}get show_label(){return this.$$.ctx[11]}set show_label(e){this.$$set({show_label:e}),H()}get max_lines(){return this.$$.ctx[12]}set max_lines(e){this.$$set({max_lines:e}),H()}get scale(){return this.$$.ctx[13]}set scale(e){this.$$set({scale:e}),H()}get min_width(){return this.$$.ctx[14]}set min_width(e){this.$$set({min_width:e}),H()}get submit_btn(){return this.$$.ctx[15]}set submit_btn(e){this.$$set({submit_btn:e}),H()}get stop_btn(){return this.$$.ctx[16]}set stop_btn(e){this.$$set({stop_btn:e}),H()}get loading_status(){return this.$$.ctx[17]}set loading_status(e){this.$$set({loading_status:e}),H()}get value_is_output(){return this.$$.ctx[1]}set value_is_output(e){this.$$set({value_is_output:e}),H()}get rtl(){return this.$$.ctx[18]}set rtl(e){this.$$set({rtl:e}),H()}get text_align(){return this.$$.ctx[19]}set text_align(e){this.$$set({text_align:e}),H()}get autofocus(){return this.$$.ctx[20]}set autofocus(e){this.$$set({autofocus:e}),H()}get autoscroll(){return this.$$.ctx[21]}set autoscroll(e){this.$$set({autoscroll:e}),H()}get interactive(){return this.$$.ctx[22]}set interactive(e){this.$$set({interactive:e}),H()}get root(){return this.$$.ctx[23]}set root(e){this.$$set({root:e}),H()}get file_count(){return this.$$.ctx[24]}set file_count(e){this.$$set({file_count:e}),H()}get max_plain_text_length(){return this.$$.ctx[25]}set max_plain_text_length(e){this.$$set({max_plain_text_length:e}),H()}get sources(){return this.$$.ctx[34]}set sources(e){this.$$set({sources:e}),H()}get waveform_options(){return this.$$.ctx[35]}set waveform_options(e){this.$$set({waveform_options:e}),H()}get html_attributes(){return this.$$.ctx[26]}set html_attributes(e){this.$$set({html_attributes:e}),H()}}export{Rl as BaseExample,ol as BaseMultimodalTextbox,Il as default};
//# sourceMappingURL=Index-JDuONPqL.js.map
